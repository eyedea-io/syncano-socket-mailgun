name: mailgun
description: Simple Mailgun integration for sending emails
version: 0.0.8
keywords:
  - mailgun
  - mail
classes:
  email_messages:
    - name: message
      type: object
    - name: status
      type: string
    - name: plain_message
      type: text
config:
  API_KEY:
    description: Mailgun API key
    required: true
  DOMAIN:
    description: Mailgun domain for sending e-mail
    required: true
endpoints:
  send:
    description: Send message
    inputs:
      to:
        type: string
        description: User email
        example: john.doe@example.com
      from:
        type: string
        description: Who sends the email
        example: App admin <example@app.com>
      subject:
        type: string
        description: Email subject
        example: My awesome subject
      html:
        type: string
        description: HTML content of email
        example: <h1>Email title</h1><p>Hello</p>
    outputs:
      mimetype: application/json
      success:
        description: Email sent successfuly
        parameters:
          message:
            type: string
      fail:
        description: Error while sending email
        exit_code: 400
        parameters:
          message:
            type: string
  webhook:
    description: Getting info about rceived e-mail from mailgun
    outputs:
      success:
        description: Success
      fail:
        exit_code: 400
        description: Failed
events:
  message-received:
    description: Emited after receiving a message
    inputs:
      id:
        type: string
        description: Received message id
